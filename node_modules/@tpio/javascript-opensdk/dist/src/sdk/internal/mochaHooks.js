"use strict";
const detectMocha = require('detect-mocha');
if (detectMocha()) {
    beforeEach(function () {
        var _a;
        DetectParents(this.currentTest);
        process.env.MOCHA_IT = (_a = this.currentTest) === null || _a === void 0 ? void 0 : _a.title;
    });
}
function DetectParents(test) {
    const describes = [];
    let currentParent = test.parent;
    while (currentParent && currentParent.title.length > 0) {
        describes.push(currentParent.title);
        currentParent = currentParent.parent;
    }
    process.env.MOCHA_DESCRIBE_TREE = describes.join(':');
}
